!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("js-duration-parser",[],t):"object"==typeof exports?exports["js-duration-parser"]=t():e["js-duration-parser"]=t()}(global,(()=>(()=>{"use strict";var e={d:(t,i)=>{for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{DurationTranslator:()=>o,DurationValidator:()=>u,TimeIdentifiers:()=>r,default:()=>l});const i=class{#e={"s=>s":1,"m=>s":60,"h=>s":3600,"d=>s":86400,"w=>s":604800,"s=>m":1/60,"m=>m":1,"h=>m":60,"d=>m":1440,"w=>m":10080,"s=>h":1/60/60,"m=>h":1/60,"h=>h":1,"d=>h":24,"w=>h":168,"s=>d":1/24/60/60,"m=>d":1/24/60,"h=>d":1/24,"d=>d":1,"w=>d":7,"s=>w":1/7/24/60/60,"m=>w":1/7/24/60,"h=>w":1/7/24,"d=>w":1/7,"w=>w":1};convert(e,t,i){const r=`${t}=>${i}`,s=this.#e[r]??null;if(null===s)throw new Error(`Conversion ${r} is not supported!`);return e*s}};const r=class{#t={en:{s:"s",m:"m",h:"h",d:"d",w:"w"}};add(e,t){return this.#t[e]=t,this}get(e){return this.#t[e]??this.#t.en}getInternalUnit(e,t){const i=this.get(t);for(const t in i)if(i[t]===e)return t;return null}};const s=class{#i;constructor(e=null){this.#i=e??new r}extractTimeGroups(e,t){const i=this.#i.get(t),r=`^(\\d+${i.w})?\\s*(\\d+${i.d})?\\s*(\\d+${i.h})?\\s*(\\d+${i.m})?\\s*(\\d+${i.s})?$`,s=new RegExp(r),n=e.trim().toLowerCase().match(s);return null===n?[]:[...n].slice(1).filter(Boolean)}parseTimeGroup(e,t){const i=this.#i.get(t),r=`^(\\d+)\\s*([${i.w}${i.d}${i.h}${i.m}${i.s}])$`,s=new RegExp(r),n=e.trim().toLowerCase().match(s);if(null===n)return null;const o=[...n].slice(1);return{time:parseInt(o[0]),unit:o[1]}}buildTimeGroup(e){if(void 0===e.time||void 0===e.unit)throw new Error("Wrong input object is passed");return`${e.time}${e.unit.trim()}`}composeDuration(e,t=" "){return e.join(t)}};const n=class{#r;#s;#i;#n;constructor(e="en",t=null){this.#r=e,this.#s=new i,this.#i=t??new r,this.#n=new s(this.#i)}#o(e,t){const i=this.#n.parseTimeGroup(e,this.#r);return this.#s.convert(i.time,this.#i.getInternalUnit(i.unit,this.#r),t)}parse(e,t="m"){if(!e)return null;const i=this.#n.extractTimeGroups(e,this.#r);return 0===i.length?null:i.reduce(((e,i)=>e+this.#o(i,t)),0)}compose(e,t="m",i=" "){if(!e)return null;const r=this.#i.get(this.#r),s=["w","d","h","m","s"],n=[];let o=e;for(const e of s){const i=parseInt(this.#s.convert(o,t,e)),s=r[e]??null;if(i>=1&&null!==s){n.push(this.#n.buildTimeGroup({time:i,unit:s}));o-=this.#s.convert(i,e,t)}}return this.#n.composeDuration(n,i)}};const o=class{#i;constructor(e=new r){this.#i=e}translate(e,t,i){const r=new n(t,this.#i),s=new n(i,this.#i),o=r.parse(e,"s");return s.compose(o,"s")}};const u=class{#n;constructor(e=null){this.#n=new s(e??new r)}validate(e,t="en"){return e.length>0&&this.#n.extractTimeGroups(e,t).length}},l=n;return t})()));
//# sourceMappingURL=index.js.map